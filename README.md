# Event Sink & External Policy Server for Pexip Infinity

The EventSink function listens for all events coming from Pexip.  It then sends messages along to message queues to be handled.  The QueueAllEvents function puts all events into the 'events' database, with unique IDs generated by Cosmos and `event_type` as partition key.

Necessary environment variables:

```
DatabaseEndpoint        - endpoint for Azure database for storing all events and active calls
QueueStorageAccount     - endpoint for storage account for queues
```